# 🛠 Distill 萃原 - 云原生开发指南

本项目采用 **Tauri (Rust + React/Vue)** 跨平台架构，并全面拥抱 **Cloud-Native (云原生)** 开发流。无论是 Web 端还是移动端客户端，核心开发工作均在云端容器（如 GitHub Codespaces）中完成。

## 💻 技术栈选型 (Tech Stack)
- **前端 (UI 渲染)**: React/Vue + Vite + TypeScript (标准 Web 技术)
- **后端 (宿主与核心逻辑)**: Rust (Tauri 框架)
- **前后端通信**: Tauri IPC (Inter-Process Communication) 机制
- **云端开发环境**: GitHub Codespaces / 远程云主机
- **真机调试网络**: Ngrok / Tailscale / Codespaces Port Forwarding

## 🚀 核心开发理念：Tauri 的 UI 就是 Web
打破传统 iOS/Android App 开发必须依赖笨重本地模拟器（Xcode/Android Studio）的定式。
我们的前端本质上是标准的 Web 页面。这意味着 **95% 的界面和交互逻辑，都可以直接在普通的桌面浏览器（Chrome）里完美预览和调试。**

## 🔄 云端日常开发流 (Cloud Dev Workflow)

### 1. 前后端秒级热更新与对接
整个编译过程发生在性能强劲的云端容器中：

* **前端编译**: 云端运行 `npm run dev` (通过 Vite 驱动)。具有 HMR（热更新）能力，修改一行 TS/TSX 代码，浏览器页面会在 **100 毫秒内刷新**。
* **后端编译**: 云端运行 `cargo tauri dev`。Rust 编译器在云端快速构建核心逻辑，并启动宿主进程。
* **IPC 实时通信**: 前后端通过强类型的桥梁进行秒级数据流通。
    * *前端调用 (TS)*: `invoke('get_ai_response', { msg: "你好" })`
    * *后端响应 (Rust)*: `#[tauri::command] fn get_ai_response(msg: String) -> String { ... }`
* **预览方式**: 直接打开 Codespaces 分配的预览 URL（如 `https://xxx-port.preview.app.github.dev`），使用 Chrome F12 开发者工具即可全面调试网络请求和 DOM 渲染。

### 2. 移动端真机“无感”调试 (Real-Device Debugging)
无需本地安装 Android Studio，直接利用云端 Web 服务进行物理真机调试：

1.  **内网穿透**: 通过 Codespaces 的端口转发功能，或使用 `Ngrok` / `Tailscale`，将云端的本地开发端口暴露为公网安全链接。
2.  **真机访问**: 拿起物理 iPhone 或 Android 手机，使用手机浏览器打开该公网链接。
3.  **即时热更新**: 此时你的手机屏幕即为前端 UI。你在云端修改任意一行代码，手中的物理手机屏幕将瞬间热更新，完美测试移动端触控与响应式布局。

### 3. AI Agent 辅助测试与数据验证
本项目高度融合 AI 辅助编程（如 Cursor / Claude Code），无需图形界面即可完成核心逻辑验证：

* **后端验证 (Rust)**: AI Agent 可直接在云端终端运行 `cargo test`。通过编写模拟数据（Mock Data）的测试用例，数秒内即可验证 AI 代理层的数据处理逻辑是否健壮。
* **前端验证 (Web)**: AI 可运行 `vitest` 测试 UI 组件的状态变化与渲染逻辑。
* **接口对齐**: 借助 AI 检查前端 `invoke` 传参和后端 Rust 的 `struct` 定义是否匹配，确保数据链条零断裂。

## 📦 部署与打包 (Build & Release)
待开发和 UI 逻辑在云端/浏览器完全跑通后，利用 GitHub Actions 或云端 CI/CD 管道，通过 Tauri CLI 编译生成最终的跨平台安装包（`.apk`, `.ipa`, `.dmg`, `.exe`）。